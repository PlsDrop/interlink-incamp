---
id: ef-with-aspnet
sidebar_label: Интеграция с ASP.NET Core
title: Использование EF Core в веб приложении
---

```json title="appsettings.json"
{
  "ConnectionStrings": {
    "DefaultConnection": "Host=127.0.0.1;Username=todolist_app;Password=secret;Database=todolist"
  }
}
```

```csharp title="Setup.cs" {3-5,6}
public void ConfigureServices(IServiceCollection services)
{
    services.AddDbContext<TodoListContext>(options =>
        options
            .UseNpgsql(Configuration.GetConnectionString("DefaultConnection"))
            .UseSnakeCaseNamingConvention();
    );

    services.AddScoped<TodoListService>()

    // Other DI initializations ...
}
```

https://www.npgsql.org/efcore/modeling/table-column-naming.html

```csharp title="TodoListService.cs" {6-9}
public class TodoListService
{

    private TodoListContext _context;

    public TodoListService(TodoListContext context)
    {
        this._context = context;
    }

    public Add(TodoItem item)
    {
        _context.Items.Add(item);
        _context.SaveChanges();
    }
}
```
